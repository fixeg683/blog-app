{% extends 'base.html' %}

{% block content %}
<div style="text-align: center; margin-bottom: 3rem;">
    <h1>Search</h1>
    <form method="GET" action="" style="max-width: 500px; margin: 0 auto; display: flex; gap: 0.5rem;">
        <input type="text" name="q" placeholder="Search for posts..." value="{{ request.GET.q }}">
        <button type="submit" class="btn">Search</button>
    </form>
</div>

{% if request.GET.q %}
    <h3>Results for "{{ request.GET.q }}"</h3>
    <div class="blog-grid">
        {% for post in results %}
            <div class="card">
                <div class="card-body">
                    <h3 class="card-title"><a href="{% url 'blog_detail' post.slug %}">{{ post.title }}</a></h3>
                    <p>{{ post.content|truncatewords:15 }}</p>
                </div>
            </div>
        {% empty %}
            <p>No results found.</p>
        {% endfor %}
    </div>
{% endif %}
{% endblock %}